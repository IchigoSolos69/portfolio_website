@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import fonts */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&family=Inter:wght@300;400;500;600;700&display=swap');

/* -------------------------------
   Custom CSS Variables & Base
-------------------------------- */
@layer base {
  :root {
    --background: 225 8% 6%;
    --foreground: 0 0% 98%;
    --spiritual-energy: 32 98% 75%;
    --soul-society: 210 9% 14%;
    --reiatsu-glow: 186 24% 74%;
    --zanpakuto-steel: 150 5% 85%;
    --hollow-mask: 0 0% 20%;
    --kido-purple: 266 50% 62%;
  }

  * { border-color: hsl(var(--hollow-mask)); }
  body {
    color: hsl(var(--foreground));
    overflow-x: hidden;
    font-family: 'Inter', 'Noto Sans JP', sans-serif;
    min-height: 100vh;
    scroll-behavior: smooth;
  }

  /* Fixed background */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    z-index: -2;
    background:
      linear-gradient(135deg, rgba(0,0,0,0.7), rgba(20,20,40,0.8), rgba(0,0,0,0.9)),
      url('https://e1.pxfuel.com/desktop-wallpaper/414/600/desktop-wallpaper-bleach-black-and-white-bleach-black.jpg'),
      linear-gradient(135deg, #0a0a0a, #1a1a2e, #16213e);
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
  }

  /* Hide scrollbars */
  ::-webkit-scrollbar { display: none; }
  html { scrollbar-width: none; }
}

/* --------------------------------
   Loading Screen & Slash Animation
--------------------------------- */
.cinematic-loading-overlay { position: fixed; inset: 0; z-index: 10000; }

/* Phase 0: Click to Start */
.click-to-start-screen {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.click-background {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, #0a0a1a, #1a1a2e, #16213e);
}

.click-content {
  position: relative;
  z-index: 10;
  text-align: center;
  animation: clickContentFloat 3s ease-in-out infinite;
}

.click-title {
  font-family: 'Noto Sans JP', sans-serif;
  font-size: 2.5rem;
  color: #FFA500;
  text-shadow: 0 0 20px rgba(255,165,0,0.8);
  margin-bottom: 1rem;
  font-weight: 700;
}

.click-subtitle {
  font-size: 1.2rem;
  color: rgba(255,255,255,0.8);
  letter-spacing: 2px;
  margin-bottom: 2rem;
}

.click-indicator {
  font-size: 2rem;
  animation: clickIndicatorBounce 1.5s ease-in-out infinite;
}

.click-overlay {
  position: absolute;
  inset: 0;
  z-index: 20;
}

@keyframes clickContentFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes clickIndicatorBounce {
  0%, 100% { transform: translateY(0); opacity: 1; }
  50% { transform: translateY(-15px); opacity: 0.7; }
}

/* Phase 1: Loading */
.loading-screen {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
}
.loading-background {
  position: absolute; inset: 0;
  background: radial-gradient(circle at center, #0a0a1a, #1a1a2e, #16213e);
}
.energy-particles,
.spark-particles,
.slash-particles { position: absolute; inset: 0; pointer-events: none; }
.energy-particle,
.spark-particle {
  position: absolute; width: 3px; height: 3px; border-radius: 50%;
  background: radial-gradient(circle, #FFA500, #FF8C00 60%, transparent);
  box-shadow: 0 0 8px rgba(255,165,0,0.6);
  animation: energyFloat linear infinite;
}
@keyframes energyFloat {
  0% { transform: translateY(100vh) scale(0); opacity:0 }
  10% { opacity:1; transform: translateY(90vh) scale(1) }
  50% { transform: translateY(50vh) scale(1.2) }
  90% { transform: translateY(10vh) scale(1) }
  100% { transform: translateY(-10vh) scale(0); opacity:0 }
}

.loader-container {
  position: relative; z-index:10; text-align:center;
}
.circular-loader {
  position: relative; width:100px; height:100px; margin-bottom:1rem;
}
.loader-ring {
  position:absolute; inset:0; border:4px solid transparent;
  border-top-color:#FFA500; border-right-color:#FF8C00;
  border-radius:50%; animation: loaderSpin 1.5s linear infinite;
  filter: drop-shadow(0 0 15px rgba(255,165,0,0.8));
}
.loader-core {
  position:absolute; top:50%; left:50%; width:30px; height:30px;
  background: radial-gradient(circle,#FFA500,#FF8C00);
  border-radius:50%; transform:translate(-50%, -50%);
  animation: loaderPulse 2s ease-in-out infinite;
}
@keyframes loaderSpin { to { transform: rotate(360deg) } }
@keyframes loaderPulse {
  0%,100% { transform: translate(-50%,-50%) scale(1); }
  50% { transform: translate(-50%,-50%) scale(1.3); }
}

.loading-text .japanese-loading {
  font-family:'Noto Sans JP'; font-size:1.2rem; color:#FFA500;
  text-shadow:0 0 15px rgba(255,165,0,0.9);
  animation:textGlow 2s ease-in-out infinite alternate;
}
.loading-text .english-loading {
  font-size:1rem; color:rgba(255,255,255,0.7); letter-spacing:2px;
}
@keyframes textGlow {
  from { text-shadow:0 0 15px rgba(255,165,0,0.9) }
  to   { text-shadow:0 0 25px rgba(255,165,0,1) }
}

/* Phase 2: Diagonal Slash */
.sword-slash-phase { position:absolute; inset:0; background:#000; overflow:hidden; }

.dramatic-pause {
  position:absolute; inset:0; background:#000;
  animation: fadeOut 0.2s ease-out 0.2s forwards;
}
@keyframes fadeOut { to { opacity:0; visibility:hidden } }

.diagonal-slash-container { position:absolute; inset:0; }

.diagonal-slash-line {
  position: absolute;
  bottom: 0;
  left: 0;
  width: var(--slash-width, 100vw);
  height: 20px;
  background: linear-gradient(
    to top,
    transparent 0%,
    rgba(255,165,0,0.8) 10%,
    rgba(255,255,255,0.6) 30%,
    rgba(255,255,255,0.6) 70%,
    rgba(255,165,0,0.8) 90%,
    transparent 100%
  );
  transform-origin: bottom left;
  transform: rotate(45deg);
  filter: blur(15px);
  animation: simpleSlashGrow 8s ease-out forwards;
  opacity: 0;
  z-index: 30;
}

.diagonal-slash-glow {
  position: absolute;
  bottom: 0;
  left: 0;
  width: var(--slash-width, 100vw);
  height: var(--slash-height, 6px);
  background: linear-gradient(
    to top,
    transparent 0%,
    #FFA500 5%,
    #FFF    20%,
    #FFF    80%,
    #FFA500 95%,
    transparent 100%
  );
  transform-origin: bottom left;
  transform: rotate(45deg);
  box-shadow:
    0 0 40px rgba(255,165,0,1),
    0 0 80px rgba(255,255,255,0.9),
    0 0 120px rgba(255,165,0,0.7);
  animation: simpleSlashGrow 8s ease-out forwards;
  opacity: 0;
  z-index: 25;
}


/* Mobile responsiveness */
@media (max-width: 768px) {
  .diagonal-slash-line {
    width: 3px;
    height: calc(100vh * 1.4142 + 40px);
  }
  .diagonal-slash-glow {
    width: 8px;
    height: calc(100vh * 1.4142 + 40px);
  }
}

.slash-particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 25;
}

.slash-particles .diagonal-particle {
  position: absolute;
  width: 3px;
  height: 3px;
  background: radial-gradient(circle, #FFF 0%, #FFA500 60%, transparent 90%);
  border-radius: 50%;
  animation: diagonalParticleFly 8s ease-out forwards;
  opacity: 0;
  box-shadow: 
    0 0 6px rgba(255,165,0,0.8),
    0 0 12px rgba(255,255,255,0.6);
}

@keyframes diagonalParticleFly {
  0%   { opacity:0; transform: translate(0,0) scaleX(0.3) scaleY(1); }
  12.5% { opacity:1; transform: translate(15vw,-10vh) scaleX(1) scaleY(1); }
  37.5% { opacity:1; transform: translate(35vw,-25vh) scaleX(1.5) scaleY(1); }
  62.5% { opacity:0.7; transform: translate(55vw,-45vh) scaleX(2) scaleY(1); }
  87.5% { opacity:0.3; transform: translate(75vw,-65vh) scaleX(2.5) scaleY(1); }
  100% { opacity:0; transform: translate(100vw,-80vh) scaleX(3) scaleY(1); }
}

@keyframes simpleSlashGrow {
  0%   { opacity:0; transform: rotate(45deg) scaleX(0); }
  10%  { opacity:1; transform: rotate(45deg) scaleX(0.2); }
  30%  { opacity:1; transform: rotate(45deg) scaleX(0.5); }
  50%  { opacity:1; transform: rotate(45deg) scaleX(0.8); }
  70%  { opacity:1; transform: rotate(45deg) scaleX(1); }
  90%  { opacity:0.8; transform: rotate(45deg) scaleX(1.2); }
  100% { opacity:0.6; transform: rotate(45deg) scaleX(1.4); }
}


/* Phase 3: Curtain Reveal */
.curtain-reveal-phase {
  position: absolute;
  inset: 0;
  background: #000;
}
.diagonal-curtain {
  position: absolute;
  inset: 0;
  background: #000;
  clip-path: polygon(0 100%, 0 100%, 0 100%, 0 100%);
  animation: curtainWipe 1s cubic-bezier(0.25,0.46,0.45,0.94) forwards;
}
@keyframes curtainWipe {
  to {
    clip-path: polygon(0 0, 100% 0, 0 100%, 0 100%);
    opacity: 0;
    visibility: hidden;
  }
}

/* --------------------------------
   Main Content Animations & Effects
--------------------------------- */

/* About Me Boxes: center aligned */
.programming-lang-box,
.about-skill-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
}

/* Missing animation classes */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes langBoxFloat {
  from { opacity: 0; transform: translateY(30px) scale(0.8) rotateX(15deg); }
  to { opacity: 1; transform: translateY(0) scale(1) rotateX(0deg); }
}

@keyframes gradient-text {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes skill-fill {
  from { width: 0%; }
  to { width: var(--target-width, 100%); }
}

@keyframes blink {
  0%, 50% { border-right-color: transparent; }
  51%, 100% { border-right-color: currentColor; }
}

/* Animation utility classes */
.animate-skill-fill {
  animation: skill-fill 2s ease-out forwards;
}

.skill-progress {
  width: 0%;
  animation: skill-fill 2.5s ease-out forwards;
  animation-fill-mode: forwards;
}

.animate-gradient-text {
  animation: gradient-text 3s ease-in-out infinite;
}

.animate-blink {
  animation: blink 1s step-end infinite;
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out forwards;
}

/* Particle animations */
.particle-field { position: absolute; inset: 0; overflow: hidden; }
.moving-particle {
  position: absolute;
  width: 2px;
  height: 2px;
  background: radial-gradient(circle, rgba(255,255,255,0.8), transparent);
  border-radius: 50%;
  animation: particleMove 10s linear infinite;
}

@keyframes particleMove {
  0% { transform: translateY(100vh) translateX(0); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateY(-10vh) translateX(50px); opacity: 0; }
}

/* Optimized particles for better performance */
.optimized-particle-field {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}

.optimized-particle {
  position: absolute;
  width: 1px;
  height: 1px;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 50%;
  animation: optimizedParticleFloat 15s linear infinite;
}

@keyframes optimizedParticleFloat {
  0% { transform: translateY(100vh) translateX(0) scale(0); opacity: 0; }
  5% { opacity: 1; transform: translateY(95vh) translateX(10px) scale(1); }
  95% { opacity: 1; transform: translateY(5vh) translateX(-10px) scale(1); }
  100% { transform: translateY(0) translateX(0) scale(0); opacity: 0; }
}

/* Dynamic background effects */
.dynamic-background {
  position: absolute;
  inset: 0;
  background: 
    radial-gradient(circle at 20% 80%, rgba(255, 165, 0, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(186, 186, 186, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(102, 51, 153, 0.1) 0%, transparent 50%);
  animation: backgroundShift 20s ease-in-out infinite;
}

@keyframes backgroundShift {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.6; }
}

/* Small particles for all sections */
.small-particles {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}

.small-particle {
  position: absolute;
  width: 3px;
  height: 3px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, rgba(255, 165, 0, 0.4) 50%, transparent 100%);
  border-radius: 50%;
  box-shadow: 0 0 4px rgba(255, 255, 255, 0.6);
  animation: smallParticleFloat 20s linear infinite;
}

@keyframes smallParticleFloat {
  0% { 
    transform: translateY(100vh) translateX(0) scale(0.5); 
    opacity: 0; 
  }
  5% { 
    opacity: 1; 
    transform: translateY(95vh) translateX(5px) scale(1); 
  }
  50% {
    opacity: 0.8;
    transform: translateY(50vh) translateX(-10px) scale(1.2);
  }
  95% { 
    opacity: 1; 
    transform: translateY(5vh) translateX(15px) scale(0.8); 
  }
  100% { 
    transform: translateY(-5vh) translateX(20px) scale(0); 
    opacity: 0; 
  }
}

